<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <link rel="icon" href="../favicon.ico" />
  <link rel="stylesheet" href="../style.css">
  <title>(ruby-build 20240501 を使用した x86_64 上の macOS 14.4.1) Ruby 2.7.7 | Techioz</title>
  <style type="text/css">code{white-space: pre;}</style>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1637770322917058"
     crossorigin="anonymous"></script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-DRM1ZRNLDN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-DRM1ZRNLDN');
  </script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "headline": "(ruby-build 20240501 を使用した x86_64 上の macOS 14.4.1) Ruby 2.7.7",
  "author": {
    "@type": "Person",
    "address": "",
    "email": null,
    "identifier": "masyumaroking",
    "name": "masyumaroking"
  },
  "publisher": {
    "@type": "Person",
    "name": "masyumaroking"
  }
}
</script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
  <header>
    <div class="container">
        <h1>Techioz Blog</h1>
        <nav>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">Articles</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
        </nav>
    </div>
  </header>
  <main>
    <div class="container">
        <article>
                      <h2>(ruby-build 20240501 を使用した x86_64 上の
macOS 14.4.1) Ruby 2.7.7</h2>
                    <h2 id="概要">概要</h2>
                    <p>私は MacBook Pro M3 チップを持っており、Ruby
                    2.7.7
                    をインストールしようとしていますが、次のエラーが発生し続けます。</p>
                    <p>ビルドに失敗しました (ruby-build 20240501
                    を使用した x86_64 上の macOS 14.4.1)</p>
                    <p>私はこれに3日間取り組んでいますので、助けていただければ幸いです:)</p>
                    <p>これは完全なビルド ログです。</p>
                    <pre><code>`==&gt; Installing ruby-2.7.7...
-&gt; ./configure &quot;--prefix=$HOME/.rbenv/versions/2.7.7&quot; --enable-shared --with-gmp-dir=/usr/local/opt/gmp --with-ext=openssl,psych,+ --with-openssl-dir=/usr/local/opt/[email protected] --with-readline-dir=/usr/local/opt/readline --with-libyaml-dir=/usr/local/opt/libyaml --with-zlib-dir=/usr/local/opt/zlib
checking for ruby... /usr/bin/ruby
tool/config.guess already exists
tool/config.sub already exists
checking build system type... x86_64-apple-darwin23.4.0
checking host system type... x86_64-apple-darwin23.4.0
checking target system type... x86_64-apple-darwin23.4.0
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether the compiler supports GNU C... yes
checking whether clang accepts -g... yes
checking for clang option to enable C11 features... none needed
checking for stdio.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for strings.h... yes
checking for sys/stat.h... yes
checking for sys/types.h... yes
checking for unistd.h... yes
checking for wchar.h... yes
checking for minix/config.h... no
checking for vfork.h... no
checking whether it is safe to define __EXTENSIONS__... yes
checking whether _XOPEN_SOURCE should be defined... no
checking how to run the C preprocessor... clang -E
checking for clang++... clang++
checking whether the compiler supports GNU C++... yes
checking whether clang++ accepts -g... yes
checking for clang++ option to enable C++11 features... none needed
checking if minimum required OS X version is supported... yes
checking whether the compiler supports GNU C++... (cached) yes
checking whether clang++ accepts -g... (cached) yes
checking for clang++ option to enable C++11 features... (cached) none needed
checking for grep that handles long lines and -e... /usr/bin/grep
checking for egrep... /usr/bin/grep -E
checking whether clang needs -traditional... no
checking for ld... ld
checking whether the linker is GNU ld... no
checking whether clang -E accepts -o... yes
checking for clang... /usr/bin/clang
checking for real target cpu... x86_64
checking for clang-ranlib... (cached) :
checking for clang-ar... (cached) libtool -static
checking for libtool -static flags... (cached) -no_warning_for_no_symbols -o
checking for as... as
checking for objdump... objdump
checking for objcopy... no
checking for gobjcopy... no
checking for clang-nm... no
checking for nm... nm
checking whether ln -s works... yes
checking whether make sets $(MAKE)... yes
checking for a BSD-compatible install... /usr/bin/install -c
checking for a race-free mkdir -p...  -d
use &#39;mkdir -p&#39; as MKDIR_P
checking for dtrace... dtrace
checking for dot... no
checking for doxygen... no
checking for pkg-config... pkg-config
checking for cd using physical directory... cd -P
checking whether CFLAGS is valid... yes
checking whether LDFLAGS is valid... no
configure: error: something wrong with LDFLAGS=&quot;-L/opt/homebrew/opt/[email protected]/lib&quot;
external command failed with status 1`

</code></pre>
                    <p>誰か助けてもらえますか？</p>
                    <p>rbenv インストール 2.7.7</p>
                    <p>エクスポート LDFLAGS=“-L/opt/homebrew/opt/[email
                    protected]/lib” エクスポート
                    CPPFLAGS=“-I/opt/homebrew/opt/[メール 保護]/include”
                    エクスポート PKG_CONFIG_PATH=“/opt/homebrew/opt
                    /[email protected]/lib/pkgconfig”</p>
                    <h2 id="解決策">解決策</h2>
                    <p>これを使ってみてください:</p>
                    <pre><code>RUBY_CONFIGURE_OPTS=&quot;--with-arch=arm64&quot; rbenv install 2.7.7
</code></pre>
        </article>
    </div>
  </main>
  <footer>
    <div class="container">
        <p>&copy; 2024 Techioz. All rights reserved.</p>
    </div>
  </footer>
</body>
</html>