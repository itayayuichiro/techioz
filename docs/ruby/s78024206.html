<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <link rel="icon" href="../favicon.ico" />
  <link rel="stylesheet" href="../style.css">
  <title>Big SurにRubyをインストールする方法 | Techioz</title>
  <style type="text/css">code{white-space: pre;}</style>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1637770322917058"
     crossorigin="anonymous"></script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-DRM1ZRNLDN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-DRM1ZRNLDN');
  </script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "headline": "Big SurにRubyをインストールする方法",
  "author": {
    "@type": "Person",
    "address": "",
    "email": null,
    "identifier": "masyumaroking",
    "name": "masyumaroking"
  },
  "publisher": {
    "@type": "Person",
    "name": "masyumaroking"
  }
}
</script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
  <header>
    <div class="container">
        <h1>Techioz Blog</h1>
        <nav>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">Articles</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
        </nav>
    </div>
  </header>
  <main>
    <div class="container">
        <article>
                      <h2>Big SurにRubyをインストールする方法</h2>
                    <h2 id="概要">概要</h2>
                    <p>私の MacBook Pro
                    は古いため、私がアップデートできる最新のオペレーティング
                    システムは Big Sur 11.7.2 です (これは、Apple Store
                    のジーニアス バーが今日インストールしてくれた OS
                    です)。新しい OS
                    を入手した後、互換性のあるバージョンのコマンド
                    ライン ツール (12.2)
                    をインストールしました。さて、rbenv を使用して Ruby
                    のいくつかのバージョンをインストールしようとしましたが、すべてビルドに失敗しました。</p>
                    <p>最新 (3.3.0)
                    をインストールしようとすると、このエラーが発生しました。</p>
                    <pre><code>/usr/local/lib/clang/5.0.0/include/inttypes.h:30:15: fatal error: &#39;inttypes.h&#39; file not found
#include_next &lt;inttypes.h&gt;
              ^~~~~~~~~~~~
In file included from apps/lib/app_provider.c:10:
In file included from apps/include/apps.h:13:
In file included from include/internal/e_os.h:16:
In file included from include/openssl/e_os2.h:234:
/usr/local/lib/clang/5.0.0/include/inttypes.h:30:15: fatal error: &#39;inttypes.h&#39; file not found
#include_next &lt;inttypes.h&gt;
              ^~~~~~~~~~~~
In file included from apps/lib/app_params.c:10:
In file included from apps/include/apps.h:13:
In file included from include/internal/e_os.h:16:
In file included from include/openssl/e_os2.h:234:
/usr/local/lib/clang/5.0.0/include/inttypes.h:30:15: fatal error: &#39;inttypes.h&#39; file not found
#include_next &lt;inttypes.h&gt;
              ^~~~~~~~~~~~
In file included from apps/lib/app_rand.c:10:
In file included from apps/include/apps.h:13:
In file included from include/internal/e_os.h:16:
In file included from include/openssl/e_os2.h:234:
/usr/local/lib/clang/5.0.0/include/inttypes.h:30:15: fatal error: &#39;inttypes.h&#39; file not found
#include_next &lt;inttypes.h&gt;
</code></pre>
                    <p>OS とコマンド ライン
                    ツールのリリースに基づいて互換性があると思われるバージョン
                    (2.7.2)
                    をインストールしようとすると、次のエラーが発生します。</p>
                    <pre><code>apps/bf_prefix.c:10:10: fatal error: &#39;stdio.h&#39; file not found
#include &lt;stdio.h&gt;
         ^~~~~~~~~
apps/apps.c:18:10: fatal error: &#39;stdio.h&#39; file not found
#include &lt;stdio.h&gt;
         ^~~~~~~~~
In file included from apps/app_rand.c:10:
In file included from apps/apps.h:13:
In file included from ./e_os.h:16:
In file included from include/openssl/e_os2.h:243:
/usr/local/lib/clang/5.0.0/include/inttypes.h:30:15: fatal error: &#39;inttypes.h&#39; file not found
#include_next &lt;inttypes.h&gt;
              ^~~~~~~~~~~~
In file included from apps/opt.c:9:
In file included from apps/apps.h:13:
In file included from ./e_os.h:16:
In file included from include/openssl/e_os2.h:243:
/usr/local/lib/clang/5.0.0/include/inttypes.h:30:15: fatal error: &#39;inttypes.h&#39; file not found
#include_next &lt;inttypes.h&gt;
</code></pre>
                    <p>私のバージョンのclang</p>
                    <pre><code>clang version 5.0.0 (trunk 300079)
Target: x86_64-apple-darwin20.6.0
Thread model: posix
InstalledDir: /usr/local/bin
</code></pre>
                    <p>システムに付属しているもの以外のより新しいバージョンの
                    Ruby をインストールするにはどうすればよいですか?</p>
                    <pre><code>ruby 2.6.10p210 (2022-04-12 revision 67958) [universal.x86_64-darwin20]
</code></pre>
                    <p>アップデート</p>
                    <p>Ruby 3.3.0 をインストールするための完全な rbenv
                    ログ</p>
                    <pre><code>rbenv install 3.3.0
==&gt; Downloading openssl-3.1.4.tar.gz...
-&gt; curl -q -fL -o openssl-3.1.4.tar.gz https://dqw8nmjcqpjn7.cloudfront.net/840af5366ab9b522bde525826be3ef0fb0af81c6a9ebd84caa600fea1731eee3
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 14.8M  100 14.8M    0     0  25.7M      0 --:--:-- --:--:-- --:--:-- 25.7M
==&gt; Installing openssl-3.1.4...
-&gt; ./config &quot;--prefix=$HOME/.rbenv/versions/3.3.0/openssl&quot; &quot;--openssldir=$HOME/.rbenv/versions/3.3.0/openssl/ssl&quot; zlib-dynamic no-ssl3 shared
-&gt; make -j 4

BUILD FAILED (macOS 11.7.2 on x86_64 using ruby-build 20240119-2-g28d59ac)

You can inspect the build directory at /var/folders/5y/wtzzmjlj5v52pg7wr8ptbg_m0000gp/T/ruby-build.20240220103938.12604.Ma5Elp
See the full build log at /var/folders/5y/wtzzmjlj5v52pg7wr8ptbg_m0000gp/T/ruby-build.20240220103938.12604.log
Michaels-MacBook-Pro-3:~ mm$ cat /var/folders/5y/wtzzmjlj5v52pg7wr8ptbg_m0000gp/T/ruby-build.20240220103938.12604.log
cd /var/folders/5y/wtzzmjlj5v52pg7wr8ptbg_m0000gp/T/ruby-build.20240220103938.12604.Ma5Elp
==&gt; Downloading openssl-3.1.4.tar.gz...
-&gt; curl -q -fL -o openssl-3.1.4.tar.gz https://dqw8nmjcqpjn7.cloudfront.net/840af5366ab9b522bde525826be3ef0fb0af81c6a9ebd84caa600fea1731eee3
-&gt; tar xzf openssl-3.1.4.tar.gz
cd /var/folders/5y/wtzzmjlj5v52pg7wr8ptbg_m0000gp/T/ruby-build.20240220103938.12604.Ma5Elp/openssl-3.1.4
==&gt; Installing openssl-3.1.4...
-&gt; ./config &quot;--prefix=$HOME/.rbenv/versions/3.3.0/openssl&quot; &quot;--openssldir=$HOME/.rbenv/versions/3.3.0/openssl/ssl&quot; zlib-dynamic no-ssl3 shared
Configuring OpenSSL version 3.1.4 for target darwin64-x86_64
Using os-specific seed configuration
Created configdata.pm
Running configdata.pm
Created Makefile.in
Created Makefile
Created include/openssl/configuration.h

**********************************************************************
***                                                                ***
***   OpenSSL has been successfully configured                     ***
***                                                                ***
***   If you encounter a problem while building, please open an    ***
***   issue on GitHub &lt;https://github.com/openssl/openssl/issues&gt;  ***
***   and include the output from the following command:           ***
***                                                                ***
***       perl configdata.pm --dump                                ***
***                                                                ***
***   (If you are new to OpenSSL, you might want to consult the    ***
***   &#39;Troubleshooting&#39; section in the INSTALL.md file first)      ***
***                                                                ***
**********************************************************************
-&gt; make -j 4
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/crypto/bn_conf.h.in &gt; include/crypto/bn_conf.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/crypto/dso_conf.h.in &gt; include/crypto/dso_conf.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/asn1.h.in &gt; include/openssl/asn1.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/asn1t.h.in &gt; include/openssl/asn1t.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/bio.h.in &gt; include/openssl/bio.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/cmp.h.in &gt; include/openssl/cmp.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/cms.h.in &gt; include/openssl/cms.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/conf.h.in &gt; include/openssl/conf.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/crmf.h.in &gt; include/openssl/crmf.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/crypto.h.in &gt; include/openssl/crypto.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/ct.h.in &gt; include/openssl/ct.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/err.h.in &gt; include/openssl/err.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/ess.h.in &gt; include/openssl/ess.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/fipskey.h.in &gt; include/openssl/fipskey.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/lhash.h.in &gt; include/openssl/lhash.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/ocsp.h.in &gt; include/openssl/ocsp.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/opensslv.h.in &gt; include/openssl/opensslv.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/pkcs12.h.in &gt; include/openssl/pkcs12.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/pkcs7.h.in &gt; include/openssl/pkcs7.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/safestack.h.in &gt; include/openssl/safestack.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/srp.h.in &gt; include/openssl/srp.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/ssl.h.in &gt; include/openssl/ssl.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/ui.h.in &gt; include/openssl/ui.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/x509.h.in &gt; include/openssl/x509.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/x509_vfy.h.in &gt; include/openssl/x509_vfy.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; include/openssl/x509v3.h.in &gt; include/openssl/x509v3.h
perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; test/provider_internal_test.cnf.in &gt; test/provider_internal_test.cnf
make depend &amp;&amp; make _build_sw
clang  -I. -Iinclude -Iapps/include  -fPIC -arch x86_64 -O3 -Wall -DL_ENDIAN -DOPENSSL_PIC -DOPENSSLDIR=&quot;\&quot;/Users/mm/.rbenv/versions/3.3.0/openssl/ssl\&quot;&quot; -DENGINESDIR=&quot;\&quot;/Users/mm/.rbenv/versions/3.3.0/openssl/lib/engines-3\&quot;&quot; -DMODULESDIR=&quot;\&quot;/Users/mm/.rbenv/versions/3.3.0/openssl/lib/ossl-modules\&quot;&quot; -D_REENTRANT -DOPENSSL_BUILDING_OPENSSL -DZLIB -DZLIB_SHARED -DNDEBUG  -MMD -MF apps/lib/libapps-lib-app_libctx.d.tmp -MT apps/lib/libapps-lib-app_libctx.o -c -o apps/lib/libapps-lib-app_libctx.o apps/lib/app_libctx.c
clang  -I. -Iinclude -Iapps/include  -fPIC -arch x86_64 -O3 -Wall -DL_ENDIAN -DOPENSSL_PIC -DOPENSSLDIR=&quot;\&quot;/Users/mm/.rbenv/versions/3.3.0/openssl/ssl\&quot;&quot; -DENGINESDIR=&quot;\&quot;/Users/mm/.rbenv/versions/3.3.0/openssl/lib/engines-3\&quot;&quot; -DMODULESDIR=&quot;\&quot;/Users/mm/.rbenv/versions/3.3.0/openssl/lib/ossl-modules\&quot;&quot; -D_REENTRANT -DOPENSSL_BUILDING_OPENSSL -DZLIB -DZLIB_SHARED -DNDEBUG  -MMD -MF apps/lib/libapps-lib-app_params.d.tmp -MT apps/lib/libapps-lib-app_params.o -c -o apps/lib/libapps-lib-app_params.o apps/lib/app_params.c
clang  -I. -Iinclude -Iapps/include  -fPIC -arch x86_64 -O3 -Wall -DL_ENDIAN -DOPENSSL_PIC -DOPENSSLDIR=&quot;\&quot;/Users/mm/.rbenv/versions/3.3.0/openssl/ssl\&quot;&quot; -DENGINESDIR=&quot;\&quot;/Users/mm/.rbenv/versions/3.3.0/openssl/lib/engines-3\&quot;&quot; -DMODULESDIR=&quot;\&quot;/Users/mm/.rbenv/versions/3.3.0/openssl/lib/ossl-modules\&quot;&quot; -D_REENTRANT -DOPENSSL_BUILDING_OPENSSL -DZLIB -DZLIB_SHARED -DNDEBUG  -MMD -MF apps/lib/libapps-lib-app_provider.d.tmp -MT apps/lib/libapps-lib-app_provider.o -c -o apps/lib/libapps-lib-app_provider.o apps/lib/app_provider.c
clang  -I. -Iinclude -Iapps/include  -fPIC -arch x86_64 -O3 -Wall -DL_ENDIAN -DOPENSSL_PIC -DOPENSSLDIR=&quot;\&quot;/Users/mm/.rbenv/versions/3.3.0/openssl/ssl\&quot;&quot; -DENGINESDIR=&quot;\&quot;/Users/mm/.rbenv/versions/3.3.0/openssl/lib/engines-3\&quot;&quot; -DMODULESDIR=&quot;\&quot;/Users/mm/.rbenv/versions/3.3.0/openssl/lib/ossl-modules\&quot;&quot; -D_REENTRANT -DOPENSSL_BUILDING_OPENSSL -DZLIB -DZLIB_SHARED -DNDEBUG  -MMD -MF apps/lib/libapps-lib-app_rand.d.tmp -MT apps/lib/libapps-lib-app_rand.o -c -o apps/lib/libapps-lib-app_rand.o apps/lib/app_rand.c
In file included from apps/lib/app_libctx.c:9:
In file included from apps/include/app_libctx.h:13:
In file included from include/openssl/types.h:32:
In file included from include/openssl/e_os2.h:234:
In file included from /usr/local/lib/clang/5.0.0/include/inttypes.h:30:15: fatal error: &#39;inttypes.h&#39; file not found
#include_next &lt;inttypes.h&gt;
              ^~~~~~~~~~~~
apps/lib/app_provider.c:10:
In file included from apps/include/apps.h:13:
In file included from include/internal/e_os.h:16:
In file included from include/openssl/e_os2.h:234:
/usr/local/lib/clang/5.0.0/include/inttypes.h:30:15: fatal error: &#39;inttypes.h&#39; file not found
#include_next &lt;inttypes.h&gt;
              ^~~~~~~~~~~~
In file included from apps/lib/app_rand.c:10:
In file included from apps/include/apps.h:13:
In file included from include/internal/e_os.h:16:
In file included from include/openssl/e_os2.h:234:
/usr/local/lib/clang/5.0.0/include/inttypes.h:30:15: fatal error: &#39;inttypes.h&#39; file not found
#include_next &lt;inttypes.h&gt;
              ^~~~~~~~~~~~
In file included from apps/lib/app_params.c:10:
In file included from apps/include/apps.h:13:
In file included from include/internal/e_os.h:16:
In file included from include/openssl/e_os2.h:234:
/usr/local/lib/clang/5.0.0/include/inttypes.h:30:15: fatal error: &#39;inttypes.h&#39; file not found
#include_next &lt;inttypes.h&gt;
              ^~~~~~~~~~~~
1 error generated.
1 error generated.
make[1]: *** [apps/lib/libapps-lib-app_params.o] Error 1
make[1]: *** Waiting for unfinished jobs....
make[1]: *** [apps/lib/libapps-lib-app_provider.o] Error 1
1 error generated.
1 error generated.
make[1]: *** [apps/lib/libapps-lib-app_rand.o] Error 1
make[1]: *** [apps/lib/libapps-lib-app_libctx.o] Error 1
make: *** [build_sw] Error 2
external command failed with status 2
</code></pre>
                    <h2 id="解決策">解決策</h2>
                    <p>通常、この種のエラーは、依存関係が欠落している場合に発生します。
                    Ruby をインストールする前に、最新の Xcode コマンド
                    ライン
                    ツールがインストールされていることを確認してください。</p>
                    <p>次のコマンドを使用して更新できます。</p>
                    <p>xcode-select –install</p>
        </article>
    </div>
  </main>
  <footer>
    <div class="container">
        <p>&copy; 2024 Techioz. All rights reserved.</p>
    </div>
  </footer>
</body>
</html>